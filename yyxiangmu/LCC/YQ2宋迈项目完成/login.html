 <!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<!--content属性值:
    	initial-scale:当页面首次展示，可视区域的缩放级别。取值1.0则页面按照实际尺寸显示，无任何缩放
    	maximum-scale=1.0,minimum-scale=1.0;可视区域的缩放级别。
    	maximun-scale=1.0:指用户可将页面放大的属性，1.0是指禁止用户放大到实际尺寸以上
    	user-scalable:是否可以对页面进行缩放，no是指禁止缩放
        -->
		<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
		<link rel="stylesheet" href="css/bootstrap.css" />
		<link rel="stylesheet" href="css/top_common.css" />
		<link rel="stylesheet" href="css/login.css" />
		<title>登录</title>
		
	</head>
	<body onload="loadStorage()">
		
	<nav class="navbar navbar-default" role="navigation">
    <div class="container">
    	<div class="car col-lg-12 col-md-12">
			<ul>
				<li class="on"><a href="login.html">登录</a></li>
				<li>/</li>
				<li><a href="register.html">注册</a></li>
				<li><img src="img/cart.png"></li>
				<li><a href="shop_cart.html">购物车</a>（<span>0</span>）</li>
			</ul> 
		</div>
    	<div class="container-fluid">
    <div class="navbar-header navbar-left">
    
      <a href="index.html"><img src="img/logo.png" class="img-responsive" title="欢迎来到宋迈品牌商城！" alt="亲，请您刷新在试试！" /></a>
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
    </div>

    
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav navbar-left">
      	<li><a href="index.html">首页</a></li>
      	<li><a href="brand_introduction.html">品牌介绍</a></li>
      	<li><a href="product.html">产品中心</a></li>
      	<li><a href="news.html">新闻中心</a></li>
      	<li><a href="contact_us.html">联系我们</a></li>
      </ul>
      
        <div class="form-group icon">
          <button type="submit"><img src="img/submit.png"/></button>
          <input type="text"  placeholder="">
        
        </div>
      
      
    </div>
  </div>
</nav>
    </div>
   
   <div class="content">
   	<div class="container">
   		<div class="row center">
   	     
   			<div class="col-md-7 col-sm-6 col-xs-12 col-lg-7 top">
   				<h1>登录</h1>
   				<div class="row">
				    <div class="col-md-6 col-md-offset-3  login">
				    	<form class="bs-example bs-example-form" role="form" onsubmit="return checkLogin()"
				    		action="user.html" method="get">
					        <div class="input-group kuan">
					            <span class="input-group-addon Account">
					            	<img src="img/renxiang.png" style="padding: 0px; height:18px;"/>
					            </span>
					            <input type="text" class="form-control kuang"  onblur="checkName(this.value)" placeholder="13912345678" id="email">
					            <div id="nameTip" title="温馨提示" data-container="body" data-toggle="popover" data-placement="right" data-content="请输入合法的用户名"></div>
					        </div><br /><br/>
					        <div class="input-group kuan">
					            <span class="input-group-addon password">
					            	<img src="img/password.png" style="padding: 0px; height:18px;"/>
					            </span>
					            <input type="password" class="form-control kuang"
					            	 onblur="checkPassword (this.value)"  placeholder="***************" id="password" >
					            	 <div id="PasswordTip" title="温馨提示" data-container="body" data-toggle="popover" data-placement="right" data-content="请输入合法的密码"></div>

					          <span class="input-group-addon forget" > <a href="###">忘记密码？</a> </span>
					        </div>
					        <div class="checkbox">
									<label class="on">
										<input type="checkbox" id="isAutoLogin" class="remember" checked="checked">记住密码										
									</label>
									<br/>
									<a href="register.html">注册会员</a>
									
									<button type="submit" class="btn btn-default enter">登录</button>
							</div>
				        </form>
				    </div>
                </div>
   			</div>
	   			<div class="col-md-5 col-sm-6 col-xs-2 col-lg-5 right">
	   				<img src="img/logo2.jpg"/>
   			    </div>
   		</div>
   	</div>
   </div>
   
   <div class="footer">
   	<p>COPYRIGHT (C) 2016WWW.JINLIAN.COM ALL RIGHTS RSERVED</p>
   </div>
</body>
	<script src="js/jquery-1.11.0.js"></script>
		<script src="js/bootstrap.js"></script>

<script>
	
	 $(function(){
	 	$("[data-toggle='popover']").popover();
	 });


$(".checkbox label").click(function(){
	
	if($(this).find("input[type=checkbox]").is(":checked")){
		$(this).removeClass("on")
		$(this).find("input").removeAttr("checked")
		console.log(1222)
	}else{
		$(this).addClass("on")
		$(this).find("input").prop("checked", "checked")
			console.log(133)
	}
})

/*用户名*/   
            var reg1 = /^[A-Za-z0-9]+$/;
			var checkName = function(v){
				var reg1 = /^[A-Za-z0-9]+$/;
				if(reg1.test(v)){
					 $('#nameTip').popover('hide');
				}else{
					 $('#nameTip').popover('show');
				}
		    }

       //密码验证
       var reg2 = /^[a-z0-9_-]{6,8}$/;
		var checkPassword = function(v){
			var reg2 = /^[a-z0-9_-]{6,8}$/;
			if(reg2.test(v)){
				 $('#PasswordTip').popover('hide');
			}else{
				 $('#PasswordTip').popover('show');
			}
		}
		
		//检查表单元素是否有填写，有填写就可以提交表单
		//返回true表示提交表单，false不提交
		var checkLogin = function(){
			
			var emailv =reg1.test(document.getElementById("email").value);
			var passwordv =reg2.test(document.getElementById("password").value);
			if(!emailv  || !passwordv){
				return false;
			}
			//获取复选框，checked表示是否勾选，勾选返回true，否则返回false
			var isAutoLogin = document.getElementById("isAutoLogin").checked;

			setStorage(emailv,passwordv,isAutoLogin);

			return true;
		}
		//设置cookie
		var setStorage = function(email,password,isAutoLogin){
			if(isAutoLogin){
				var userLoginInfo = {
					email:email,
					password:password,
					isAutoLogin:isAutoLogin
				};
				localStorage.setItem("userLoginInfo",JSON.stringify(userLoginInfo));

			}
		}
		
		//获取cookie
		var loadStorage = function(){
			var obj = localStorage.getItem("userLoginInfo");
			var userInfo = JSON.parse(obj);
			if(userInfo){
				document.getElementById("email").value=userInfo.email;
				document.getElementById("password").value=userInfo.password;
				document.getElementById("isAutoLogin").checked=userInfo.isAutoLogin;
			}
		}
		
//		删除
      $(".delete").click(function(){      	
      	$(this).parent("div").find("img").remove()      
      })
	</script>
</html>
